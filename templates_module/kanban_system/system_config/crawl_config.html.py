# -*- coding:utf-8 -*-
from mako import runtime, filters, cache
UNDEFINED = runtime.UNDEFINED
STOP_RENDERING = runtime.STOP_RENDERING
__M_dict_builtin = dict
__M_locals_builtin = locals
_magic_number = 10
_modified_time = 1555586683.143
_enable_loop = True
_template_filename = 'D:/py-workspace/LanhuSaas/framework/templates/system_config/crawl_config.html'
_template_uri = './system_config/crawl_config.html'
_source_encoding = 'utf-8'
_exports = []


def render_body(context,**pageargs):
    __M_caller = context.caller_stack._push_frame()
    try:
        __M_locals = __M_dict_builtin(pageargs=pageargs)
        STATIC_URL = context.get('STATIC_URL', UNDEFINED)
        SITE_URL = context.get('SITE_URL', UNDEFINED)
        __M_writer = context.writer()
        __M_writer(u'<html>\r\n<head>\r\n    <meta charset="UTF-8">\r\n    <title>\u722c\u866b\u914d\u7f6e</title>\r\n\r\n    <script src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/vue-2.5.21/vue.development.js"></script>\r\n    <!-- \u751f\u4ea7\u73af\u5883\u7248\u672c\uff0c\u4f18\u5316\u4e86\u5c3a\u5bf8\u548c\u901f\u5ea6 \u529f\u80fd\u5b8c\u5584\u540e\u8bf7\u5c06vue.development.js\u8be5\u4e3avue.js-->\r\n    <!--<script src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/vue-2.5.21/vue.js"></script>-->\r\n    <!-- vue\u7684ajax\u4f9d\u8d56-->\r\n    <script src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/vue-2.5.21/axios.min.js"></script>\r\n    <!-- element UI\u5f15\u5165\u6837\u5f0f -->\r\n    <link href="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/element-2.4.11/index.css" rel="stylesheet">\r\n    <!-- element UI\u5f15\u5165\u7ec4\u4ef6\u5e93 -->\r\n    <script src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/element-2.4.11/index.js"></script>\r\n    <script src=\'')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u"js/jquery.min.js'></script>\r\n    <script src='")
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'js/jquery-ui.js\'></script>\r\n    <!--jQuery\u5e93\u4f7f\u7528\u65f6\u8bf7\u4f7f\u7528\u6807\u51c6jQuery\u8bed\u6cd5-->\r\n    <!--<script src="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'assets/jquery/jquery-3.1.1.min.js"></script>-->\r\n    <!--\u9875\u9762\u521d\u59cb\u5316css(Tencent)-->\r\n    <link href="')
        __M_writer(unicode(STATIC_URL))
        __M_writer(u'css/init.css" rel="stylesheet">\r\n\r\n    <!--\u963f\u91cc\u5df4\u5df4\u77e2\u91cf\u56fe\u6807\u5e93--\u9879\u76ee\u5b8c\u6210\u540e\u8bf7\u4e0b\u8f7dcss\u5e76\u4e0b\u8f7dcss\u5f15\u7528\u7684\u5b57\u4f53\u6587\u4ef6-->\r\n    <link href="http://at.alicdn.com/t/font_997278_ptr5bdmor4j.css" rel="stylesheet">\r\n</head>\r\n<body>\r\n\r\n<div id="system_crawl_config" v-loading="loading">\r\n\r\n    <!--start \u9762\u5305\u5c51-->\r\n    <el-breadcrumb separator-class="el-icon-arrow-right" separator="/" style="margin: 20px;">\r\n        <el-breadcrumb-item><a href="/">\u7cfb\u7edf\u914d\u7f6e</a></el-breadcrumb-item>\r\n        <el-breadcrumb-item>\u7f51\u9875\u6293\u53d6\u914d\u7f6e</el-breadcrumb-item>\r\n        <el-breadcrumb-item v-if="showDiaLog == false">{{ message }}\u6293\u53d6\u914d\u7f6e</el-breadcrumb-item>\r\n    </el-breadcrumb>\r\n    <!--end \u9762\u5305\u5c51-->\r\n\r\n    <!--start \u5361\u7247 \u5217\u8868\u9875-->\r\n    <el-card class="box-card" style="margin: 20px;" v-if="showDiaLog == true">\r\n        <div slot="header" class="clearfix">\r\n            <div class="grid-content bg-purple"><h2>\u7f51\u9875\u6293\u53d6\u914d\u7f6e</h2></div>\r\n            <br>\r\n            <el-row :gutter="20">\r\n                <el-col :span="20">\r\n                    <el-form :inline="true" :model="crawl_search" class="demo-form-inline">\r\n                        <el-form-item label="\u722c\u866b\u540d\u79f0\uff1a">\r\n                            <el-input v-model="crawl_search.name" placeholder="\u8bf7\u8f93\u5165\u722c\u866b\u540d\u79f0"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label="\u722c\u866b\u7f51\u5740\uff1a">\r\n                            <el-input v-model="crawl_search.url" placeholder="\u8bf7\u8f93\u5165\u722c\u866b\u540d\u79f0"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item>\r\n                            <el-button type="primary" @click="get_crawl_by_name">\u67e5\u8be2</el-button>\r\n                        </el-form-item>\r\n\r\n                    </el-form>\r\n                </el-col>\r\n                <el-col :span="4" style="float: right">\r\n                    <div class="grid-content bg-purple">\r\n                        <el-button type="primary" @click="changeDiaLog">\u65b0\u589e\u722c\u866b\u4fe1\u606f</el-button>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n        <el-table :data="crawl_table" style="width: 100%">\r\n            <el-table-column type="expand"\r\n                             label="ID"\r\n                             prop="id">\r\n                <template slot-scope="props">\r\n                    <el-form label-position="left" inline class="demo-table-expand">\r\n                        <el-form-item label="\u603bxpath:">\r\n                            <span>{{ props.row.total_xpath }}</span>\r\n                        </el-form-item>\r\n                        <el-form-item label="\u6807\u9898xpath:">\r\n                            <span>{{ props.row.title_xpath }}</span>\r\n                        </el-form-item>\r\n                        <el-form-item label="URL_xpath:">\r\n                            <span>{{ props.row.url_xpath }}</span>\r\n                        </el-form-item>\r\n                        <el-form-item label="\u65f6\u95f4xpath:">\r\n                            <span>{{ props.row.time_xpath }}</span>\r\n                        </el-form-item>\r\n                        <el-form-item label="\u5173\u952e\u5b57:">\r\n                            <span>{{ props.row.crawl_keyword }}</span>\r\n                        </el-form-item>\r\n                        <el-form-item label="\u975e\u5173\u952e\u5b57:">\r\n                            <span>{{ props.row.crawl_no_keyword }}</span>\r\n                        </el-form-item>\r\n                    </el-form>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column\r\n                    label="\u722c\u866b\u540d\u79f0"\r\n                    prop="crawl_name">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    label="\u722c\u866b\u5468\u671f"\r\n                    prop="period">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    label="\u521b\u5efa\u4eba"\r\n                    prop="create_user">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    label="\u521b\u5efa\u65f6\u95f4"\r\n                    prop="create_time">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    label="\u4fee\u6539\u4eba"\r\n                    prop="update_user">\r\n            </el-table-column>\r\n            <el-table-column\r\n                    label="\u4fee\u6539\u65f6\u95f4"\r\n                    prop="update_time">\r\n            </el-table-column>\r\n            <el-table-column label="\u64cd\u4f5c">\r\n                <template slot-scope="scope">\r\n                    <el-button size="mini" type="text" v-on:click="editCrawl(scope.row.id)">\u7f16\u8f91</el-button>\r\n                    <el-button size="mini" type="text" v-on:click="deleteCrawl(scope.row.id)">\u5220\u9664</el-button>\r\n                    </el-tooltip>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n        <el-pagination :page-count="page_count" background layout="sizes, prev, pager, next" style="float:right"\r\n                           @current-change="changePage"  @size-change="changeSize" :page-sizes="[5, 10, 20, 50]" :page-size="5"></el-pagination>\r\n    </el-card>\r\n    <!--end \u5361\u7247 \u5217\u8868\u9875-->\r\n\r\n    <!--start \u5361\u7247 \u65b0\u589e\u722c\u866b\u914d\u7f6e\u9875-->\r\n    <el-card class="box-card" style="margin: 20px;" v-if="showDiaLog == false">\r\n        <div slot="header" class="clearfix">\r\n            <h2>{{ message }}\u722c\u866b\u914d\u7f6e</h2>\r\n        </div>\r\n        <el-form ref="form" :model="crawl_form" label-width="150px">\r\n            <el-row :gutter="20">\r\n                <el-col :span="12">\r\n                    <div class="grid-content bg-purple">\r\n                        <el-form-item label="\u722c\u866b\u540d\u79f0\uff1a">\r\n                            <el-input v-model="crawl_form.crawl_name"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span="12">\r\n                    <div class="grid-content bg-purple">\r\n                        <el-form-item label="\u722c\u866b\u5468\u671f\uff1a">\r\n                            <el-input v-model="crawl_form.period"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span="12">\r\n                    <div class="grid-content bg-purple">\r\n                        <el-form-item label="\u722c\u866b\u5730\u5740(URL):">\r\n                            <el-input v-model="crawl_form.crawl_url"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span="12">\r\n                    <div class="grid-content bg-purple">\r\n                        </el-form-item>\r\n                        <el-form-item label="\u5173\u952e\u5b57:">\r\n                            <el-input v-model="crawl_form.crawl_keyword"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span="12">\r\n                    <div class="grid-content bg-purple">\r\n                        <el-form-item label="\u975e\u5173\u952e\u5b57:">\r\n                            <el-input v-model="crawl_form.crawl_no_keyword"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span="12">\r\n                    <div class="grid-content bg-purple">\r\n                        <el-form-item label="\u914d\u7f6expath:">\r\n                            <el-input v-model="crawl_form.total_xpath"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n\r\n                <el-col :span="12">\r\n                    <div class="grid-content bg-purple">\r\n                        <el-form-item label="\u914d\u7f6e\u6807\u9898xpath\uff1a">\r\n                            <el-input v-model="crawl_form.title_xpath"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span="12">\r\n                    <div class="grid-content bg-purple">\r\n                        <el-form-item label="\u914d\u7f6e\u65f6\u95f4xpath\uff1a">\r\n                            <el-input v-model="crawl_form.time_xpath"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span="12">\r\n                    <div class="grid-content bg-purple">\r\n                        <el-form-item label="\u914d\u7f6e\u8d44\u6e90xpath\uff1a">\r\n                            <el-input v-model="crawl_form.url_xpath"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span="12">\r\n                    <div class="grid-content bg-purple">\r\n                        <el-form-item label="\u9759\u6001\u8d44\u6e90\u524d\u7f00\uff1a">\r\n                            <el-input v-model="crawl_form.url_pre"></el-input>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n                <el-col :span="24">\r\n                    <div class="grid-content bg-purple">\r\n                        <el-form-item label="\u63a5\u6536\u4eba\uff1a">\r\n                            <el-button @click="dialogVisible = true" type="primary">\u9009\u62e9\u4eba\u5458</el-button>\r\n                            <el-input v-model="crawl_form.receivers" type="textarea" :autosize="{ minRows: 2, maxRows: 4}"></el-input>\r\n                        </el-form-item>\r\n\r\n                    </div>\r\n                </el-col>\r\n\r\n                <el-col :span="12">\r\n                    <div class="grid-content bg-purple">\r\n                        <el-form-item>\r\n                            <el-button type="info" @click="testCrawl">\u6d4b\u8bd5\u722c\u866b</el-button>\r\n                            <el-button type="success" @click="addCrawl">{{ message }}\u722c\u866b\u914d\u7f6e</el-button>\r\n                            <el-button @click="changeDiaLog">\u8fd4\u56de</el-button>\r\n                        </el-form-item>\r\n                    </div>\r\n                </el-col>\r\n            </el-row>\r\n\r\n        </el-form>\r\n    </el-card>\r\n    <!--end \u5361\u7247 \u65b0\u589e\u722c\u866b\u914d\u7f6e\u9875-->\r\n    <el-dialog\r\n            title="\u8bf7\u9009\u62e9\u4eba\u5458"\r\n            :visible.sync="dialogVisible"\r\n            width="30%"\r\n            :before-close="handleClose" >\r\n        <el-input placeholder="\u8f93\u5165\u5173\u952e\u5b57\u8fdb\u884c\u8fc7\u6ee4" v-model="filterText"></el-input>\r\n        <el-tree class="filter-tree" :data="user_list" :props="defaultProps"  show-checkbox\r\n                 :filter-node-method="filterNode" ref="tree2" :default-checked-keys="checked_list" @check="checked"></el-tree>\r\n        <el-button @click="dialogVisible = false">\u53d6 \u6d88</el-button>\r\n        <el-button type="primary" @click="select_people">\u786e \u5b9a</el-button>\r\n        </span>\r\n    </el-dialog>\r\n\r\n</div>\r\n\r\n\r\n<script>\r\n    //csrf\u9a8c\u8bc1\r\n    axios.interceptors.request.use((config) => {\r\n        config.headers[\'X-Requested-With\'] = \'XMLHttpRequest\';\r\n        let regex = /.*csrftoken=([^;.]*).*$/; // \u7528\u4e8e\u4ececookie\u4e2d\u5339\u914d csrftoken\u503c\r\n        config.headers[\'X-CSRFToken\'] = document.cookie.match(regex) === null ? null : document.cookie.match(regex)[1];\r\n        return config\r\n    });\r\n\r\n    let vm = new Vue({\r\n        el: \'#system_crawl_config\',\r\n        data: {\r\n            loading: false,\r\n            message: "\u65b0\u589e",\r\n            showDiaLog: true,\r\n            crawl_table: [\r\n                {\r\n                    id: \'\',\r\n                    crawl_name: \'\',\r\n                    period: \'\',\r\n                    creator: \'\',\r\n                    create_time: \'\',\r\n                    editor: \'\',\r\n                    update_time: \'\',\r\n                    total_xpath: \'\',\r\n                    title_xpath: \'\',\r\n                    time_xpath: \'\',\r\n                    url_xpath: \'\',\r\n                    crawl_keyword: \'\',\r\n                    crawl_no_keyword: \'\',\r\n                    create_user: \'\',\r\n                    update_user: \'\'\r\n                }\r\n            ],\r\n            crawl_search: {\r\n                name: \'\',\r\n                url: \'\',\r\n            },\r\n            crawl_form: {\r\n                id: \'\',\r\n                crawl_name: \'\',\r\n                crawl_url: \'http://www.szse.cn/aboutus/trends/news/index.html\',\r\n                period: \'\',\r\n                crawl_keyword: \'\',\r\n                crawl_no_keyword: \'\',\r\n                total_xpath: \'//div[@class="article-list"]//div[@class="g-content-list"]//ul//li//div[@class="title"]\',\r\n                title_xpath: \'a/@title\',\r\n                time_xpath: \'span/text()\',\r\n                url_xpath: \'a/@href\',\r\n                receivers: \'\',\r\n                url_pre: \'\',\r\n            },\r\n            page_count: 100,\r\n            page: 1,\r\n            limit: 5,\r\n            user_list: [],\r\n            filterText: \'\',\r\n            defaultProps: {\r\n                children: \'children\',\r\n                label: \'label\'\r\n            },\r\n            dialogVisible: false,\r\n            users: [],\r\n            checked_list:[],\r\n        },\r\n        methods: {\r\n            changeSize(value){\r\n                vm.limit = value;\r\n                vm.get_crawl_by_name();\r\n            },\r\n            changeDiaLog() {//\u8df3\u8f6c\u722c\u866b\u914d\u7f6e\u65b0\u589e\u9875\u9762\r\n                this.showDiaLog == true ? this.showDiaLog = false : this.showDiaLog = true;\r\n                this.loading = true;\r\n                this.loading = false;\r\n                this.message = \'\u65b0\u589e\';\r\n                this.crawl_form.id = \'\';\r\n                vm.initHtml();\r\n            },\r\n            editCrawl(res) {//\u8df3\u8f6c\u722c\u866b\u914d\u7f6e\u7f16\u8f91\u9875\u9762\r\n                this.changeDiaLog();\r\n                //\u6b64\u5904\u5e94\u66f4\u65b0\u8868\u5355\u7684\u503c\r\n                this.message = \'\u4fee\u6539\';\r\n                this.crawl_form.id = res;\r\n                for (let i = 0; i < this.crawl_table.length; i++) {\r\n                    if (this.crawl_table[i].id == res) {\r\n                        this.crawl_form.crawl_name = this.crawl_table[i].crawl_name;\r\n                        this.crawl_form.crawl_url = this.crawl_table[i].crawl_url;\r\n                        this.crawl_form.period = this.crawl_table[i].period;\r\n                        this.crawl_form.crawl_keyword = this.crawl_table[i].crawl_keyword;\r\n                        this.crawl_form.crawl_no_keyword = this.crawl_table[i].crawl_no_keyword;\r\n                        this.crawl_form.time_xpath = this.crawl_table[i].time_xpath;\r\n                        this.crawl_form.url_xpath = this.crawl_table[i].url_xpath;\r\n                        this.crawl_form.title_xpath = this.crawl_table[i].title_xpath;\r\n                        this.crawl_form.total_xpath = this.crawl_table[i].total_xpath;\r\n                        this.crawl_form.receivers = this.crawl_table[i].receivers;\r\n                    }\r\n                }\r\n            },\r\n            //\u65b0\u589e\u722c\u866b\u914d\u7f6e\r\n            addCrawl() {\r\n                //\u9632\u6b62\u65b0\u589e\u6709ID\u56de\u53bb\u66f4\u6539\r\n                this.crawl_form.id = \'\';\r\n                axios({\r\n                    url: \'')
        __M_writer(unicode(SITE_URL))
        __M_writer(u"system_config/manage_crawl/',\r\n                    method: 'post',\r\n                    data: this.crawl_form,\r\n                }).then(function (res) {\r\n                    if (res.data.code == 0) {\r\n                        vm.$message({\r\n                            type: 'success',\r\n                            message: res.data.results,\r\n                        });\r\n                        vm.changeDiaLog();\r\n                        vm.initHtml();\r\n                    } else {\r\n                        vm.$message({\r\n                            type: 'info',\r\n                            message: res.data.results,\r\n                        })\r\n                    }\r\n                    console.log(res)\r\n                }).catch(function (res) {\r\n                    console.log(res)\r\n                })\r\n            },\r\n            //\u5220\u9664\u722c\u866b\u914d\u7f6e\r\n            deleteCrawl(id) {\r\n                this.$confirm('\u6b64\u64cd\u4f5c\u5c06\u6c38\u4e45\u5220\u9664\u8be5\u6587\u722c\u866b\u914d\u7f6e, \u662f\u5426\u7ee7\u7eed?', '\u63d0\u793a', {\r\n                    confirmButtonText: '\u786e\u5b9a',\r\n                    cancelButtonText: '\u53d6\u6d88',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    axios({\r\n                        url: '")
        __M_writer(unicode(SITE_URL))
        __M_writer(u"system_config/delete_crawl/',\r\n                        method: 'post',\r\n                        data: {id: id},\r\n                    }).then((res) => {\r\n                        if (res.data.code == 0) {\r\n                            vm.$message({\r\n                                type: 'success',\r\n                                message: res.data.results,\r\n                            });\r\n                            vm.initHtml();\r\n                        } else {\r\n                            vm.$message({\r\n                                type: 'info',\r\n                                message: res.data.results,\r\n                            })\r\n                        }\r\n                    }).catch((res) => {\r\n                        this.$message({\r\n                            type: 'info',\r\n                            message: '\u5220\u9664\u5931\u8d25\uff0c' + res\r\n                        });\r\n                    });\r\n\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '\u5df2\u53d6\u6d88\u5220\u9664'\r\n                    });\r\n                });\r\n            },\r\n            //\u6839\u636e\u722c\u866b\u540d\u79f0\u548c\u7f51\u7ad9\u83b7\u53d6\u722c\u866b\u914d\u7f6e\r\n            get_crawl_by_name() {\r\n                axios({\r\n                    url: '")
        __M_writer(unicode(SITE_URL))
        __M_writer(u"system_config/get_crawl_by_name/',\r\n                    method: 'post',\r\n                    data: {\r\n                        'keyword': this.crawl_search.name,\r\n                        'crawl_url': this.crawl_search.url,\r\n                        page: vm.page,\r\n                        limit: vm.limit\r\n                    }\r\n                }).then((res) => {\r\n                    if (res.data.code == 0) {\r\n                        vm.crawl_table = res.data.results;\r\n                        if (res.data.results.length != 0) {\r\n                            vm.page_count = res.data.results[0]['page_count']\r\n                        } else {\r\n                            vm.page_count = 1;\r\n                        }\r\n                    } else {\r\n                        vm.$message({\r\n                            type: 'info',\r\n                            message: '\u67e5\u8be2\u5931\u8d25',\r\n                        })\r\n                    }\r\n                    console.log(res)\r\n                }).catch((res) => {\r\n                    vm.$message({\r\n                        type: 'info',\r\n                        message: '\u67e5\u8be2\u5931\u8d25' + res\r\n                    })\r\n                })\r\n\r\n            },\r\n            //\u7ffb\u9875\r\n            changePage(value) {\r\n                vm.page = value;\r\n                vm.get_crawl_by_name()\r\n            },\r\n            //\u9875\u9762\u521d\u59cb\u5316\r\n            initHtml() {\r\n                axios({\r\n                    url: '")
        __M_writer(unicode(SITE_URL))
        __M_writer(u"system_config/get_crawls/',\r\n                    method: 'post',\r\n                    data: {page: vm.page, limit: vm.limit}\r\n                }).then((res) => {\r\n                    console.log(res);\r\n                    if (res.data.code == 0) {\r\n                        console.log(res.data.results);\r\n                        vm.crawl_table = res.data.results;\r\n                        vm.page_count = res.data.results[0]['page_count']\r\n                    } else {\r\n                        vm.$message({\r\n                            type: 'info',\r\n                            message: res.data.results,\r\n                        })\r\n                    }\r\n                }).catch((res) => {\r\n                    vm.$message({\r\n                        type: 'info',\r\n                        message: '\u67e5\u8be2\u9519\u8bef'\r\n                    })\r\n                })\r\n            },\r\n            //\u722c\u866b\u6d4b\u8bd5\r\n            testCrawl() {\r\n                //elementUI loading\u52a8\u753b\r\n                const loading = this.$loading({\r\n                    lock: true,\r\n                    text: 'Loading',\r\n                    spinner: 'el-icon-loading',\r\n                    background: 'rgba(0, 0, 0, 0.7)'\r\n                });\r\n                axios({\r\n                    url: '")
        __M_writer(unicode(SITE_URL))
        __M_writer(u"system_config/crawl_test/',\r\n                    method: 'post',\r\n                    data: this.crawl_form,\r\n                }).then((res) => {\r\n                    if (res.data.code == 0) {\r\n                        let info = '';\r\n                        for (let i = 0; i < res.data.results.length; i++) {\r\n                            let title = res.data.results[i].title;\r\n                            let time = res.data.results[i].time;\r\n                            let url = res.data.results[i].resource;\r\n                            info += '<h6>' + '\u7b2c' + (i + 1) + '\u6761\u6570\u636e' + '</h6> <span>\u6807\u9898\uff1a</span><span>' + title + '</span><br> <span>\u65f6\u95f4\uff1a</span>' +\r\n                                '<span>' + time + '</span><br> <span>\u94fe\u63a5\uff1a</span><span>' + url + '</span><br>'\r\n\r\n                        }\r\n                        vm.$message({\r\n                            type: 'success',\r\n                            dangerouslyUseHTMLString: true,\r\n                            showClose: true,\r\n                            duration: 1000,\r\n                            message: info,\r\n                        });\r\n                        loading.close();\r\n                    } else {\r\n                        vm.$message({\r\n                            type: 'info',\r\n                            message: res.data.results,\r\n                        });\r\n                        loading.close();\r\n                    }\r\n                }).catch((res) => {\r\n                    loading.close();\r\n                    vm.$message({\r\n                        type: 'info',\r\n                        message: '\u722c\u866b\u5f02\u5e38' + res,\r\n                    });\r\n                    console.error(res)\r\n                })\r\n            },\r\n\r\n            handleDialogClose() {\r\n                vm.ref()\r\n            },\r\n            //\u83b7\u53d6\u4eba\u5458\u6811\u7ed3\u6784\r\n            get_tree() {\r\n                axios({\r\n                    method: 'post',\r\n                    url: '")
        __M_writer(unicode(SITE_URL))
        __M_writer(u'position/get_tree/\',\r\n                }).then(function (res) {\r\n                    vm.user_list = res.data.message;\r\n                })\r\n            },\r\n            filterMethod(query, item) {\r\n                return item.pinyin.indexOf(query) > -1;\r\n            },\r\n            filterNode(value, data) {\r\n                if (!value) return true;\r\n                return data.label.indexOf(value) !== -1;\r\n            },\r\n            //\u5173\u95ed\u7a97\u53e3\r\n            handleClose(done) {\r\n                this.$confirm(\'\u786e\u8ba4\u5173\u95ed\uff1f\')\r\n                    .then(_ => {\r\n                        done();\r\n                    })\r\n                    .catch(_ => {\r\n                    });\r\n            },\r\n            //\u83b7\u53d6\u9009\u4e2d\u8282\u70b9\r\n            checked(e, dataCk) {\r\n                this.checkedKeys = dataCk.checkedNodes;\r\n                vm.getchekedKeys = this.checkedKeys;\r\n            },\r\n            //\u786e\u8ba4\u4eba\u5458\u9009\u62e9\r\n            select_people() {\r\n                vm.dialogVisible = false;\r\n                vm.getchekedKeys = vm.checkedKeys;\r\n                console.log(vm.getchekedKeys);\r\n                let receve_user_list = \'\';\r\n                for (let i = 0; i < vm.getchekedKeys.length; i++){\r\n                    if(vm.getchekedKeys[i]["id"] == undefined ){\r\n                        receve_user_list += vm.getchekedKeys[i].label+ "@";\r\n                    }\r\n                }\r\n                vm.crawl_form.receivers = receve_user_list;\r\n            },\r\n        },\r\n        watch: {\r\n            filterText(val) {\r\n                this.$refs.tree2.filter(val);\r\n            }\r\n        },\r\n    });\r\n    vm.initHtml();\r\n    vm.get_tree();\r\n</script>\r\n</body>\r\n</html>')
        return ''
    finally:
        context.caller_stack._pop_frame()


"""
__M_BEGIN_METADATA
{"source_encoding": "utf-8", "line_map": {"16": 0, "23": 1, "24": 6, "25": 6, "26": 8, "27": 8, "28": 10, "29": 10, "30": 12, "31": 12, "32": 14, "33": 14, "34": 15, "35": 15, "36": 16, "37": 16, "38": 18, "39": 18, "40": 20, "41": 20, "42": 350, "43": 350, "44": 380, "45": 380, "46": 413, "47": 413, "48": 452, "49": 452, "50": 484, "51": 484, "52": 530, "53": 530, "59": 53}, "uri": "./system_config/crawl_config.html", "filename": "D:/py-workspace/LanhuSaas/framework/templates/system_config/crawl_config.html"}
__M_END_METADATA
"""
